<%@page import="java.text.SimpleDateFormat"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ page import="ch13.board.BoardDBBean" %>
<%@ page import="ch13.board.BoardDataBean" %>
<%@ page import="java.util.List" %>
<%@ include file="color.jspf" %>    
    <%!
    	int pageSize=10;
    	SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm");
    %>
    <%
    	String pageNum=request.getParameter("pageNum");
    	if(pageNum==null){
    		pageNum="1";
    	}
    	
    	int currentPage=Integer.parseInt(pageNum);
    	int startRow=(currentPage-1)*pageSize+1;
    	int endRow=currentPage*pageSize;
    	int count=0;
    	int number=0;
    	List<BoardDataBean>articleList=null;
    	
    	BoardDBBean dbPro=BoardDBBean.getInstance();
    	count=dbPro.getArticleCount();
    	if(count>0){
    		articleList=dbPro.getArticle(startRow, pageSize);
    	}
    	
    	number=count-(currentPage-1)*pageSize;
    %>
    
<!DOCTYPE html>
<html>
<head>
<link href="style.css" rel="stylesheet" type="text/css">
<meta charset="UTF-8">
<title>게시판</title>
</head>
<body bgcolor="<%=bodyback_c%>">
	<p>글목록(전체 글:<%=count %>)</p>
	<table>
		<tr>
			<td align="right" bgcolor="<%=value_c %>">
				<a href="writeForm.jsp">글쓰기</a>
			</td>
		</tr>
	</table>
	<%if(count==0) {%>
	<table>
		<tr>
			<td align="center">
				게시판에 저장된 글이 없습니다.
			</td>
		</tr>
	</table>
</body>
</html>